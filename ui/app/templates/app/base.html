<!DOCTYPE html>
{% load static %}
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
     integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">

    <link rel = "stylesheet" href="{% static 'app/css/owl.carousel.min.css' %}" />
    <link rel = "stylesheet" href="{% static 'app/css/all.min.css' %}" />
    <link rel = "stylesheet" href="{% static 'app/css/style.css' %}" />

    <title>Course Recommendation System | {% block title %}{% endblock title %}</title>

</head>

<body>

    <nav class="navbar navbar-expand-lg bg-body-tertiary navbar-dark bg-success">
        <div class="container-fluid">
          <a class="navbar-brand" href="#">
            <img src="{% static "app/images/logo.png" %}" width="150" height ="50"/>
          </a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav me-auto mb-2 mb-lg-0">
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="/">Home</a>
              </li>
              <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                  Courses
                </a>
                <ul class="dropdown-menu">
                  <li><a class="dropdown-item" href="/CategoryPage/Arts%20and%20Humanities/">Arts and Humanities</a></li>
                  <li><a class="dropdown-item" href="/CategoryPage/Business/">Business</a></li>
                  <li><a class="dropdown-item" href="/CategoryPage/Computer%20Science/">Computer Science</a></li>
                  <li><a class="dropdown-item" href="/CategoryPage/Data%20Science/">Data Science</a></li>
                  <li><a class="dropdown-item" href="/CategoryPage/Health/">Health</a></li>
                  <li><a class="dropdown-item" href="/CategoryPage/Information%20Technology/">Information Technology</a></li>
                  <li><a class="dropdown-item" href="/CategoryPage/Language%20Learning/">Language Learning</a></li>
                  <li><a class="dropdown-item" href="/CategoryPage/Math%20and%20Logic/">Math and Logic</a></li>
                </ul>
              </li>
              <li class="nav-item">
                <a class="nav-link text-white" href="/AboutUs">About us</a>
              </li>
              
              <li class="nav-item">
                <a class="nav-link text-white" href="/ContactUs" >Contact us</a>
              </li>
            </ul>
          </div>

          <ul class="navbar-nav me-auto nb-2 mb-lg-0">
            <li class="nav-item dropdown mx-2" id="profile-dropdown" style="display: none;">
                <a class="nav-link dropdown-toggle" href="#" 
                id="profileDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                    User
                  </a>
                  <ul class="dropdown-menu" aria-labelledby="profileDropdown">
                    <li><a class="dropdown-item" href="/UserProfile">Profile</a></li>
                    <li><a class="dropdown-item" href="/logout">Log out</a></li>
                  </ul>
            </li>
            <li class="nav-item mx-2" id="login-link">
                <a href="/login" class="nav-link text-white">Login</a>
            </li>
            <li class="nav-item mx-2" id="register-link">
                <a href="/registration" class="nav-link text-white">Register</a>
            </li>
          </ul>
        </div>
      </nav>
      
      {% block extracss %}{% endblock extracss %}
      {% block banner-slider %}{% endblock banner-slider %}
      {% block LoginForm %}{% endblock LoginForm %}
      {% block RegisterForm %}{% endblock RegisterForm %}
      {% block userDetails %}{% endblock userDetails %}
      {% block productDetails %}{% endblock productDetails %}
      {% block aboutUs %}{% endblock aboutUs %}
      {% block contactUs %}{% endblock contactUs %}
      {% block information %}{% endblock information %}
      {% block main-content %}{% endblock main-content %}
      
      <footer class="container-fluid fixed-bottom bg-success text-center p-2 mt-5">
        Copyright : 2024 || Develop by : Pavan Daspute
      </footer>

    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js" integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"> </script>

    <script script="{% static 'app/js/owl.carousel.min.js'%}"></script>
    <script script="{% static 'app/js/all.min.js'%}"></script>
    <script script="{% static 'app/js/myscript.js'%}"></script>

    <script>
      document.addEventListener('DOMContentLoaded', () => {
        const logoutLink = document.querySelector('a[href="/logout"]');
    
        if (logoutLink) {
            logoutLink.addEventListener('click', (event) => {
                event.preventDefault();  // Prevent the default action
                localStorage.removeItem('access_token');  // Remove the token from local storage
                window.location.href = '/logout';  // Redirect to the logout URL
            });
        }
      });
      document.addEventListener('DOMContentLoaded', () => {
          const token = localStorage.getItem('access_token');
          const profileDropdown = document.getElementById('profile-dropdown');
          const loginLink = document.getElementById('login-link');
          const registerLink = document.getElementById('register-link');

          if (token) {
              // User is logged in
              profileDropdown.style.display = 'block';
              loginLink.style.display = 'none';
              registerLink.style.display = 'none';
          } else {
              // User is not logged in
              profileDropdown.style.display = 'none';
              loginLink.style.display = 'block';
              registerLink.style.display = 'block';
          }
      });
    </script>
</body>
</html>